{% form_theme form 'form/profile-fields.html.twig' %}

<div class="form-holder">
	{{ form_start(form, {'attr': {'class': 'data-info js-ajax-form'}}) }}
	<div class="columns">
		<div class="col">
			{{ form_row(form.incomeType, {'attr': {'disabled': 'disabled'}|merge(profile.incomeType is empty ? {'class': 'has-error'} : {})}) }}
			{{ form_row(form.monthlyIncome, {'attr': {'disabled': 'disabled'}|merge(profile.monthlyIncome is empty ? {'class': 'has-error'} : {})}) }}			
			{{ form_row(form.workPhone, {
				'attr': {
					'disabled': 'disabled',
					'data-rule-phoneValidate': 1,
					'placeholder': '+38 (___) ___-__-__'|trans,
					'data-mask': '+38 (099) 999-99-99',
					'minlength': 19,
					'maxlength': 19
				}|merge(profile.workPhone is empty ? {'class': 'has-error'} : {})
			}) }}
		</div>
		<div class="col">
			<div data-show-if-field="#profile_business_incomeType" data-show-if-value="1|3">
				{{ form_row(form.companyName, {'attr': {'disabled': 'disabled'}|merge(profile.companyName is empty ? {'class': 'has-error'} : {})}) }}
				{{ form_row(form.position, {'attr': {'disabled': 'disabled'}|merge(profile.position is empty ? {'class': 'has-error'} : {})}) }}
				{{ form_row(form.businessType, {'attr': {'disabled': 'disabled'}|merge(profile.businessType is empty ? {'class': 'has-error'} : {})}) }}
			</div>			
		</div>
		<div class="column-hidden">
			{{ form_row(form.lastExperience, {'attr': {'disabled': 'disabled'}|merge(profile.lastExperience is empty ? {'class': 'has-error'} : {})}) }}
			{{ form_row(form.totalExperience, {'attr': {'disabled': 'disabled'}|merge(profile.totalExperience is empty ? {'class': 'has-error'} : {})}) }}
			{{ form_row(form.carOwner, {'attr': {'disabled': 'disabled'}|merge(profile.carOwner is empty ? {'class': 'has-error'} : {})}) }}
			{{ form_row(form.realEstateOwner, {'attr': {'disabled': 'disabled'}|merge(profile.realEstateOwner is empty ? {'class': 'has-error'} : {})}) }}
		</div>
	</div>
	
	{% if not hasUnpaidLoans %}
	<div class="button-block">
		<a href="#" class="button btn-edit open-editing">{{ 'Редактировать'|trans }}</a>
		<a href="#" class="button back-btn">{{ 'Назад'|trans }}</a>
		<button type="submit" class="button submit-profile" data-text-sending="{{ 'Подождите...'|trans }}" data-text-error="{{ 'Ошибка'|trans }}">{{ 'Сохранить'|trans }}</button>
	</div>
	{% endif %}
	
	{{ form_end(form) }}
</div>